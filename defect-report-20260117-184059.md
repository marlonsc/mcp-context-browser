# Code Quality Report

Generated: 2026-01-17 18:40:59 UTC

## Executive Summary

- **Total Defects**: 234
- **Files Analyzed**: 65
- **Analysis Duration**: 79153ms

### Severity Distribution

```
critical â–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 18 (7.7%)
high     â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 47 (20.1%)
low      â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 6 (2.6%)
medium   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘ 163 (69.7%)
```

### Top 10 Hotspot Files

| Rank | File | Defects | Severity Score |
|------|------|---------|----------------|
| 1 | ./crates/mcb-validate/src/quality.rs | 12 | 58.0 |
| 2 | ./crates/mcb-validate/src/performance.rs | 15 | 52.0 |
| 3 | ./src.legacy/application/admin/implementation.rs | 13 | 46.0 |
| 4 | ./crates/mcb-validate/src/solid.rs | 11 | 44.0 |
| 5 | ./crates/mcb-validate/src/implementation.rs | 12 | 43.0 |
| 6 | ./crates/mcb-validate/src/kiss.rs | 11 | 40.0 |
| 7 | ./crates/mcb-validate/src/tests_org.rs | 10 | 39.0 |
| 8 | ./crates/mcb-validate/src/error_boundary.rs | 12 | 36.0 |
| 9 | ./crates/mcb-validate/src/naming.rs | 9 | 34.0 |
| 10 | ./book/book/searcher-c2a407aa.js | 6 | 33.0 |

## Detailed Findings

### Complexity (46 issues)

#### ./crates/mcb-validate/src/dependency.rs:1-1

**High** - File has high complexity with TDG score of 2.05 (threshold: 2.0)

> ðŸ’¡ **Suggestion**: Consider: reduce cyclomatic complexity by extracting methods, reduce coupling by improving module boundaries, eliminate code duplication

#### ./crates/mcb-validate/src/generic_reporter.rs:1-1

**High** - File has high complexity with TDG score of 2.29 (threshold: 2.0)

> ðŸ’¡ **Suggestion**: Consider: reduce cyclomatic complexity by extracting methods, reduce coupling by improving module boundaries

#### ./crates/mcb-validate/src/quality.rs:1-1

**High** - File has high complexity with TDG score of 2.10 (threshold: 2.0)

> ðŸ’¡ **Suggestion**: Consider: reduce cyclomatic complexity by extracting methods, reduce coupling by improving module boundaries, eliminate code duplication

#### ./crates/mcb-validate/src/refactoring.rs:1-1

**High** - File has high complexity with TDG score of 2.03 (threshold: 2.0)

> ðŸ’¡ **Suggestion**: Consider: reduce cyclomatic complexity by extracting methods, reduce coupling by improving module boundaries

#### ./examples.legacy/config_demo.rs:1-1

**High** - File has high complexity with TDG score of 2.21 (threshold: 2.0)

> ðŸ’¡ **Suggestion**: Consider: reduce cyclomatic complexity by extracting methods, reduce coupling by improving module boundaries, eliminate code duplication

#### ./examples.legacy/config_example.rs:1-1

**High** - File has high complexity with TDG score of 2.48 (threshold: 2.0)

> ðŸ’¡ **Suggestion**: Consider: reduce cyclomatic complexity by extracting methods, eliminate code duplication

#### ./src.legacy/adapters/providers/embedding/openai.rs:1-1

**High** - File has high complexity with TDG score of 2.04 (threshold: 2.0)

> ðŸ’¡ **Suggestion**: Consider: reduce cyclomatic complexity by extracting methods, reduce coupling by improving module boundaries

#### ./src.legacy/adapters/providers/routing/failover.rs:1-1

**High** - File has high complexity with TDG score of 2.00 (threshold: 2.0)

> ðŸ’¡ **Suggestion**: Consider: reduce cyclomatic complexity by extracting methods, reduce coupling by improving module boundaries, eliminate code duplication

#### ./src.legacy/adapters/providers/vector_store/edgevec.rs:1-1

**High** - File has high complexity with TDG score of 2.35 (threshold: 2.0)

> ðŸ’¡ **Suggestion**: Consider: reduce cyclomatic complexity by extracting methods, reduce coupling by improving module boundaries, eliminate code duplication

#### ./src.legacy/adapters/providers/vector_store/encrypted.rs:1-1

**High** - File has high complexity with TDG score of 2.18 (threshold: 2.0)

> ðŸ’¡ **Suggestion**: Consider: reduce cyclomatic complexity by extracting methods, reduce coupling by improving module boundaries, eliminate code duplication

_...and 36 more Complexity_

### Technical Debt (8 issues)

#### ./book/book/book-a0b12cfe.js:461-461

**Low** - Design: e.relatedTarget is null in Safari and Firefox on macOS (see workaround below)

> ðŸ’¡ **Suggestion**: Refactor to improve design and architecture

#### ./book/book/book-a0b12cfe.js:546-546

**Low** - Design: Workaround for Safari skipping the animation when changing

> ðŸ’¡ **Suggestion**: Refactor to improve design and architecture

#### ./src.legacy/infrastructure/auth/api_keys.rs:211-211

**Low** - Design: Atomic file write using temp file + rename for consistency

> ðŸ’¡ **Suggestion**: Refactor to improve design and architecture

#### ./src.legacy/infrastructure/snapshot/manager.rs:48-48

**Low** - Design: Try to create the directory, fall back to temp dir on failure

> ðŸ’¡ **Suggestion**: Refactor to improve design and architecture

#### ./src.legacy/server/builder.rs:130-130

**Low** - Design: Use a temporary container to get the default HTTP client if not provided

> ðŸ’¡ **Suggestion**: Refactor to improve design and architecture

#### ./src.legacy/server/init.rs:244-244

**Low** - Design: Get HTTP client from temp container for production mode

> ðŸ’¡ **Suggestion**: Refactor to improve design and architecture

#### ./book/book/searcher-c2a407aa.js:151-151

**Critical** - Security: encodeURIComponent escapes all chars that could allow an XSS except

> ðŸ’¡ **Suggestion**: Address the security vulnerability

#### ./src.legacy/server/mcp_server.rs:703-703

**Critical** - Security: # ðŸ”’ **Security & Compliance**\n\n\

> ðŸ’¡ **Suggestion**: Address the security vulnerability

### Performance (180 issues)

#### ./book/book/book-a0b12cfe.js:521-521

**Medium** - Function 'sidebar' has high time complexity: O(nÂ²)

> ðŸ’¡ **Suggestion**: Consider using a more efficient algorithm or data structure to reduce quadratic complexity

#### ./book/book/book-a0b12cfe.js:553-553

**Medium** - Function 'showSidebar' has high time complexity: O(nÂ²)

> ðŸ’¡ **Suggestion**: Consider using a more efficient algorithm or data structure to reduce quadratic complexity

#### ./book/book/book-a0b12cfe.js:567-567

**Medium** - Function 'hideSidebar' has high time complexity: O(nÂ²)

> ðŸ’¡ **Suggestion**: Consider using a more efficient algorithm or data structure to reduce quadratic complexity

#### ./book/book/book-a0b12cfe.js:582-582

**Medium** - Function 'sidebarToggle' has high time complexity: O(nÂ²)

> ðŸ’¡ **Suggestion**: Consider using a more efficient algorithm or data structure to reduce quadratic complexity

#### ./book/book/book-a0b12cfe.js:602-602

**Medium** - Function 'resize' has high time complexity: O(nÂ²)

> ðŸ’¡ **Suggestion**: Consider using a more efficient algorithm or data structure to reduce quadratic complexity

#### ./book/book/book-a0b12cfe.js:615-615

**Medium** - Function 'stopResize' has high time complexity: O(nÂ²)

> ðŸ’¡ **Suggestion**: Consider using a more efficient algorithm or data structure to reduce quadratic complexity

#### ./book/book/book-a0b12cfe.js:649-649

**Medium** - Function 'chapterNavigation' has high time complexity: O(nÂ²)

> ðŸ’¡ **Suggestion**: Consider using a more efficient algorithm or data structure to reduce quadratic complexity

#### ./book/book/book-a0b12cfe.js:659-659

**Medium** - Function 'next' has high time complexity: O(nÂ²)

> ðŸ’¡ **Suggestion**: Consider using a more efficient algorithm or data structure to reduce quadratic complexity

#### ./book/book/book-a0b12cfe.js:665-665

**Medium** - Function 'prev' has high time complexity: O(nÂ²)

> ðŸ’¡ **Suggestion**: Consider using a more efficient algorithm or data structure to reduce quadratic complexity

#### ./book/book/book-a0b12cfe.js:671-671

**Medium** - Function 'showHelp' has high time complexity: O(nÂ²)

> ðŸ’¡ **Suggestion**: Consider using a more efficient algorithm or data structure to reduce quadratic complexity

_...and 170 more Performance_

